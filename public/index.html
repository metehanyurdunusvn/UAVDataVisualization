<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log Viewer | Çelebi</title>

    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;700&display=swap"
        rel="stylesheet">

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!-- Icons (Phosphor Icons - cleaner than FontAwesome) -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
</head>

<body>
    <div class="app-container">
        <!-- Sidebar: Plane Selector -->
        <aside class="sidebar">
            <div class="brand">
                <i class="ph ph-airplane-tilt"></i>
                <span>ÇelebiLogViewer</span>
            </div>
            <div class="search-box">
                <div class="search-input-wrapper">
                    <i class="ph ph-magnifying-glass"></i>
                    <input type="text" id="id-filter" placeholder="Filter IDs...">
                </div>
                <button id="btn-compare-mode" class="btn-icon" title="Toggle Compare Mode">
                    <i class="ph ph-arrows-left-right"></i>
                    <span>Compare</span>
                </button>
            </div>
            <div class="id-list" id="plane-list">
                <!-- Items injected by JS -->
                <div class="loading-spinner"></div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-view">
            <!-- Map Container -->
            <div id="map"></div>

            <!-- Secondary HUD (Top Left) - Hidden by default -->
            <div class="hud-panel top-left glass hidden" id="hud-secondary">
                <div class="hud-header">
                    <span id="sec-plane-label" style="color: #ffd700;">SECONDARY</span>
                </div>
                <div class="hud-grid">
                    <div class="hud-item">
                        <span class="label">ALT</span>
                        <span class="value" id="sec-alt">--</span>
                    </div>
                    <div class="hud-item">
                        <span class="label">SPD</span>
                        <span class="value" id="sec-speed">--</span>
                    </div>
                    <div class="hud-item wide">
                        <span class="label">DST</span> <!-- Distance to primary -->
                        <span class="value-sm" id="sec-dist">-- m</span>
                    </div>
                    <div class="hud-item wide checkbox-row">
                        <label class="checkbox-container small">
                            <input type="checkbox" id="chk-sec-path">
                            <span class="checkmark"></span>
                            Show Path
                        </label>
                    </div>
                </div>
            </div>

            <!-- HUD Overlay: Telemetry -->
            <div class="hud-panel top-right glass">
                <div class="hud-header">
                    <span id="active-plane-label">NO SELECTION</span>
                    <span class="live-badge">LIVE REPLAY</span>
                </div>
                <div class="hud-grid">
                    <div class="hud-item">
                        <span class="label">ALTITUDE</span>
                        <span class="value" id="val-alt">--</span>
                        <span class="unit">m</span>
                    </div>
                    <div class="hud-item">
                        <span class="label">SPEED</span>
                        <span class="value" id="val-speed">--</span>
                        <span class="unit">m/s</span>
                    </div>
                    <div class="hud-item">
                        <span class="label">HEADING</span>
                        <span class="value" id="val-heading">--</span>
                        <span class="unit">deg</span>
                    </div>
                    <div class="hud-item">
                        <span class="label">BATTERY</span>
                        <span class="value" id="val-batt">--</span>
                        <span class="unit">%</span>
                    </div>
                    <div class="hud-item wide">
                        <span class="label">LAT / LON</span>
                        <span class="value-sm" id="val-latlon">-- / --</span>
                    </div>
                    <div class="hud-item wide">
                        <span class="label">TIMESTAMP</span>
                        <span class="value-sm" id="val-time">--</span>
                    </div>
                </div>
            </div>

            <!-- HUD Overlay: Controls -->
            <div class="hud-panel bottom-center glass">
                <div class="timeline-container">
                    <input type="range" id="timeline" min="0" max="100" value="0" step="1">
                </div>
                <div class="controls-row">
                    <div class="options-controls">
                        <label class="checkbox-container">
                            <input type="checkbox" id="chk-full-path">
                            <span class="checkmark"></span>
                            Show Full Path
                        </label>
                    </div>
                    <div class="speed-controls">
                        <button class="btn-icon" data-speed="0.2">0.2x</button>
                        <button class="btn-icon" data-speed="0.5">0.5x</button>
                        <button class="btn-icon active" data-speed="1">1x</button>
                        <button class="btn-icon" data-speed="2">2x</button>
                        <button class="btn-icon" data-speed="5">5x</button>
                        <button class="btn-icon" data-speed="10">10x</button>
                    </div>
                    <div class="playback-controls">
                        <button class="btn-round" id="btn-play-pause">
                            <i class="ph ph-play-fill" id="icon-play"></i>
                            <i class="ph ph-pause-fill hidden" id="icon-pause"></i>
                        </button>
                    </div>
                    <div class="index-display">
                        <span id="frame-idx">0</span> / <span id="frame-total">0</span>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="app.js"></script>
</body>

</html>